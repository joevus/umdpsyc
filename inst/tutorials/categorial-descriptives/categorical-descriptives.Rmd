---
title: "Categorical Descriptive Statistics"
output: 
  learnr::tutorial:
    progressive: true
runtime: shiny_prerendered

tutorial:
  id: "categorical-descriptives"
  version: 0.5
---


```{r setup, include=FALSE}
library(ggplot2)
library(umdpsyc)
library(learnr)
data(mtcars)
data("exam_scores")
knitr::opts_chunk$set(echo = FALSE)
# learnr::tutorial_options(exercise.timelimit = 60)
```

## Categorical Descriptive Statistics

###

One of the first steps that you might take once you have some data in R is to look at descriptive statistics. Remember, the types of descriptive statistics that you use will be different depending on whether it is categorical or numerical data. We will look at categorical descriptive statistics and graphs here; check out the `numerical-descriptives` tutorial in order to learn about how to do descriptive statistics and graphs for numerical data.

For the examples in this tutorial, we use the `exam_scores` dataset. 

```{r}
head(exam_scores)
```


## Tables

###

One of the basic first steps you can take to summarize categorical variables is using a table to look at the counts within each category. 

```{r, echo = TRUE}
table(exam_scores$note_mode)
```

### Two-way table

```{r, echo = TRUE}
table(exam_scores$anxiety,exam_scores$note_mode)
```

### Proportions

Overall proportions
```{r, echo = TRUE}
prop.table(table(exam_scores$anxiety,exam_scores$note_mode))
```

Row proportions
```{r, echo = TRUE}
prop.table(table(exam_scores$anxiety,exam_scores$note_mode),margin = 1)
```

Column proportions
```{r, echo = TRUE}
prop.table(table(exam_scores$anxiety,exam_scores$note_mode),margin = 2)
```

## Plotting Categorical Variables

### Visualizing Categorical Variables


The basic functions for plotting numerical variables in `R` are shown in the table below. 

|Function|Type of Plot|
|---|---|
|`barplot(x)`|histogram|
| `pie(x)` | pie chart |
| `barplot(x,y)` | stacked bar chart |


### Visualizing Categorical Variables

The base `R` graphics of categorical variables generally require you to give a table of the data as an argument. For example, let's make a basic barplot.

```{r}
barplot(table(mtcars$vs))
```

You can also use the `pie` function to create a pie chart, but we won't do that here. Remember, using a pie chart is highly discouraged.

To create a stacked bar chart, we can simply use a two-dimensional contingency table.

```{r}
barplot(table(exam_scores$anxiety,exam_scores$note_mode))
```

## Factor

###

If you look back at the exam_scores dataset, you'll notice that there are categorical variables coded as numbers. For example, `note_mode`, referring the method of note-taking, is coded as `1` for paper and `2` for computer. The values of `1` or `2` don't actually mean anything other than to signify that there are two categories. 

However, R doesn't know that! When it see the values of `1` or `2`, it thinks it's a numerical variable, and tries to treat it as such. Therefore, there are time when we might want to convert a variable into a **factor**. A **factor** is just another type of object (like **strings** or **numeric**), which specifically designed to be treated as a categorical variable. You can use the `factor` function in order to tell R to treat a variable as categorical in this way. 

Let's look at an example. If we wanted to use `qplot` to plot a bar plot for the `note_mode` variable, we might try to do this.

```{r, echo = TRUE}
# Remember, qplot is in the ggplot2 package, so you need to bring it in if you have not already in your current R session.
# library(ggplot2)

qplot(note_mode, data = exam_scores)
```

However, this tries to give us a histogram instead of a bar plot, because R thinks it's a numerical variable! We can use `factor` to rectify this.

```{r, echo = TRUE}
qplot(factor(note_mode), data = exam_scores)
```

### Side-by-side boxplots

Recall that we used `qplot` for boxplots, and used `y=` to specify the numerical variables. We can use the `x=` argument to specify which group to split on. 

```{r, echo = TRUE}
qplot(x = factor(exam_scores$note_mode), y = exam_scores$exam1, geom = 'boxplot')

```

Note that we had to use `factor` to change `exam_scores$note_mode` into a `factor` object, so that R knows that it is a categorical variable. Otherwise, it will think it is numerical (since it is coded as `1` or `2`), which is not what we want!

## Exercises



### Submitting work

```{r submission-setup}
submission_code <- function(UID, exercise = 'data-frames'){
  print(round(UID * (213 / 214 + 102)*4+1))
}
```

Generate your submission code by putting in your UID in the function below. For example, if your UID is `2`, then your code should look like `submission_code(UID = 2)`
```{r submission, exercise = TRUE}
submission_code(UID = )
```
